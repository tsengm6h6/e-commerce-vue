(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d443"],{d122:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-row",{staticStyle:{"margin-top":"100px","z-index":"2"},attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{xs:20,sm:16,md:12,lg:6}},[t("p",{staticStyle:{width:"100%","text-align":"center"}},[e._v("管理員登入")]),t("el-form",{ref:"signInForm",attrs:{rules:e.rules,model:e.signInForm,"status-icon":""}},[t("el-form-item",{attrs:{label:"Email",prop:"email"}},[t("el-input",{attrs:{type:"email",placeholder:"請輸入您的Email"},model:{value:e.signInForm.email,callback:function(r){e.$set(e.signInForm,"email",r)},expression:"signInForm.email"}})],1),t("el-form-item",{attrs:{label:"密碼",prop:"password"}},[t("el-input",{attrs:{type:"text",placeholder:"請輸入您的密碼","show-password":""},model:{value:e.signInForm.password,callback:function(r){e.$set(e.signInForm,"password",r)},expression:"signInForm.password"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.isLoading},on:{click:function(r){return e.validateForm("signInForm")}}},[e._v("登入")])],1)],1)],1)],1)},n=[],s=t("1da1"),i=(t("96cf"),t("99af"),t("7696")),o={name:"signin",data:function(){return{signInForm:{email:"",password:""},rules:{password:[{required:!0,message:"請輸入您的密碼",trigger:"blur"}],email:[{required:!0,message:"請輸入您的 Email",trigger:"blur"},{type:"email",message:"請輸入正確的 Email 格式",trigger:"blur"}]},isLoading:!1}},methods:{validateForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return r.$message.error("請再次確認資料內容"),!1;r.handleSubmit()}))},handleSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var t,a,n,s,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,e.isLoading=!0,t={username:e.signInForm.email,password:e.signInForm.password},r.next=5,i["a"].signIn(t);case 5:if(a=r.sent,!0===a.data.success){r.next=8;break}throw new Error(a.data.message);case 8:n=a.data,s=n.token,o=n.expired,document.cookie="hexToken=".concat(s,"; expired=").concat(new Date(o)),e.$store.commit("setLoginStatus",a.data.success),e.isLoading=!1,e.$router.push("/admin/dashboard?activeIndex=1&page=1"),r.next=19;break;case 15:r.prev=15,r.t0=r["catch"](0),e.isLoading=!1,e.$message.error("".concat(r.t0.message,"，請再試一次"));case 19:case"end":return r.stop()}}),r,null,[[0,15]])})))()}}},l=o,m=t("2877"),c=Object(m["a"])(l,a,n,!1,null,null,null);r["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d21d443.2be9c3b6.js.map