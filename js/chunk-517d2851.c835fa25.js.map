{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./src/components/Order.vue?3dea","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/views/CheckOut.vue?9e9c","webpack:///./src/components/cart/CartForm.vue?1985","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./src/utils/mixin.js","webpack:///./src/components/Order.vue?281d","webpack:///src/components/Order.vue","webpack:///./src/components/Order.vue?d8da","webpack:///./src/components/Order.vue","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./src/views/CheckOut.vue?121c","webpack:///./src/components/cart/CartInfo.vue?5200","webpack:///src/components/cart/CartInfo.vue","webpack:///./src/components/cart/CartInfo.vue?1240","webpack:///./src/components/cart/CartInfo.vue","webpack:///./src/components/cart/CartForm.vue?5141","webpack:///src/components/cart/CartForm.vue","webpack:///./src/components/cart/CartForm.vue?4783","webpack:///./src/components/cart/CartForm.vue","webpack:///src/views/CheckOut.vue","webpack:///./src/views/CheckOut.vue?6575","webpack:///./src/views/CheckOut.vue"],"names":["$","$values","values","target","stat","O","$trim","trim","forcedStringTrimMethod","proto","forced","this","bind","toObject","callWithSafeIterationClosing","isArrayIteratorMethod","toLength","createProperty","getIteratorMethod","module","exports","arrayLike","length","result","step","iterator","next","value","C","Array","argumentsLength","arguments","mapfn","undefined","mapping","iteratorMethod","index","call","done","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","String","replace","start","end","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","TO_ENTRIES","it","key","keys","i","push","entries","anObject","iteratorClose","fn","ENTRIES","error","from","checkCorrectnessOfIteration","INCORRECT_ITERATION","iterable","methods","dateFormat","timestamp","formattedDate","Date","yyyy","getFullYear","mm","getMonth","dd","getDate","render","_vm","_h","$createElement","_c","_self","_v","_s","currOrderId","orderIsPaid","showPayBtn","attrs","isLoading","on","$event","payOrder","_e","staticClass","staticStyle","orderList","scopedSlots","_u","props","row","userEmail","userTel","userAddress","productsList","staticRenderFns","name","type","require","fromCheckout","Boolean","mixins","mixin","components","Loading","data","computed","created","fetchOrder","component","fails","non","METHOD_NAME","active","ref","afterFormSubmit","afterPayOrder","directives","rawName","expression","handleConfirmCart","handleSubmit","handlePayOrder","cartList","getSummaries","scope","image","updateCartRecord","cartItem","action","qty","price","slot","cartMixin","watch","handler","$message","success","$router","sums","_l","item","date","time","title","unit","total","final_total","isCoupon","model","callback","$$v","couponCode","preventDefault","stopPropagation","addCoupon","rules","userForm","$set","email","tel","address","message","validateForm","$refs","formName","validate","valid","resetCartInfo","$store","commit","setLocalStorage","Order","CartInfo","CartForm","metaInfo","isPost","cartForm","orderId","order"],"mappings":"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","file":"js/chunk-517d2851.c835fa25.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=style&index=0&id=4363b629&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOut.vue?vue&type=style&index=0&id=7e87db69&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartForm.vue?vue&type=style&index=0&id=2832ba41&scoped=true&lang=css&\"","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","export default {\r\n  methods: {\r\n    dateFormat (timestamp) {\r\n      const formattedDate = new Date(timestamp * 1000)\r\n      const yyyy = formattedDate.getFullYear()\r\n      const mm =\r\n        (formattedDate.getMonth() + 1 < 10 ? '0' : '') + (formattedDate.getMonth() + 1)\r\n      const dd = (formattedDate.getDate() < 10 ? '0' : '') + formattedDate.getDate()\r\n      return `${yyyy}-${mm}-${dd}`\r\n    }\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isLoading)?_c('Loading'):_c('div',[_c('el-container',[_c('h4',[_vm._v(\"訂單編號：\"+_vm._s(_vm.currOrderId))]),(!_vm.orderIsPaid && _vm.showPayBtn)?_c('el-button',{attrs:{\"type\":\"warning\",\"size\":\"small\",\"loading\":_vm.isLoading},on:{\"click\":function($event){return _vm.payOrder(_vm.currOrderId)}}},[_vm._v(\"確認付款\")]):_vm._e()],1),_c('el-divider'),_c('p',{staticClass:\"title\"},[_vm._v(\"訂購人資訊\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.orderList}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('p',[_vm._v(\"信箱：\"+_vm._s(props.row.userEmail))]),_c('p',[_vm._v(\"電話：\"+_vm._s(props.row.userTel))]),_c('p',[_vm._v(\"地址：\"+_vm._s(props.row.userAddress))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"訂購人資訊\",\"prop\":\"userName\",\"min-width\":\"180\"}}),_c('el-table-column',{attrs:{\"label\":\"訂購日期\",\"prop\":\"orderDate\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"label\":\"訂單狀態\",\"prop\":\"isPaid\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"label\":\"總金額\",\"prop\":\"orderSum\",\"min-width\":\"100\"}})],1),_c('div',{staticClass:\"order-info\"},[_c('p',{staticClass:\"title\"},[_vm._v(\"訂單明細\")]),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.productsList}},[_c('el-table-column',{attrs:{\"prop\":\"productName\",\"label\":\"商品名稱\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"qty\",\"label\":\"數量\",\"min-width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"productUnit\",\"label\":\"單位\",\"min-width\":\"50\"}}),_c('el-table-column',{attrs:{\"prop\":\"originPrice\",\"label\":\"單價\",\"min-width\":\"100\"}}),_c('el-table-column',{attrs:{\"prop\":\"isCoupon\",\"label\":\"套用優惠券\",\"min-width\":\"100\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Loading v-if=\"isLoading\" />\r\n  <div v-else>\r\n    <el-container>\r\n      <h4>訂單編號：{{ currOrderId }}</h4>\r\n      <el-button\r\n        v-if=\"!orderIsPaid && showPayBtn\"\r\n        @click=\"payOrder(currOrderId)\"\r\n        type=\"warning\"\r\n        size=\"small\"\r\n        :loading=\"isLoading\"\r\n        >確認付款</el-button\r\n      >\r\n    </el-container>\r\n    <el-divider></el-divider>\r\n    <p class=\"title\">訂購人資訊</p>\r\n    <el-table :data=\"orderList\" style=\"width: 100%\">\r\n      <el-table-column type=\"expand\">\r\n        <template slot-scope=\"props\">\r\n          <p>信箱：{{ props.row.userEmail }}</p>\r\n          <p>電話：{{ props.row.userTel }}</p>\r\n          <p>地址：{{ props.row.userAddress }}</p>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"訂購人資訊\"\r\n        prop=\"userName\"\r\n        min-width=\"180\"\r\n      ></el-table-column>\r\n      <el-table-column label=\"訂購日期\" prop=\"orderDate\" min-width=\"100\">\r\n      </el-table-column>\r\n      <el-table-column label=\"訂單狀態\" prop=\"isPaid\" min-width=\"100\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        label=\"總金額\"\r\n        prop=\"orderSum\"\r\n        min-width=\"100\"\r\n      ></el-table-column>\r\n    </el-table>\r\n    <div class=\"order-info\">\r\n      <p class=\"title\">訂單明細</p>\r\n      <el-table :data=\"productsList\" style=\"width: 100%\">\r\n        <el-table-column prop=\"productName\" label=\"商品名稱\" width=\"180\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"qty\" label=\"數量\" min-width=\"50\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"productUnit\" label=\"單位\" min-width=\"50\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"originPrice\" label=\"單價\" min-width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"isCoupon\" label=\"套用優惠券\" min-width=\"100\">\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport customerAPI from '../apis/customer.js'\r\nimport mixin from '../utils/mixin.js'\r\nimport { mapState } from 'vuex'\r\nimport Loading from '../components/Loading.vue'\r\n\r\nexport default {\r\n  name: 'Order',\r\n  props: {\r\n    currOrderId: {\r\n      type: String,\r\n      require: true\r\n    },\r\n    fromCheckout: {\r\n      type: Boolean,\r\n      require: true\r\n    }\r\n  },\r\n  mixins: [mixin],\r\n  components: {\r\n    Loading\r\n  },\r\n  data () {\r\n    return {\r\n      orderIsPaid: false,\r\n      orderList: [],\r\n      productsList: [],\r\n      showPayBtn: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['isLoading'])\r\n  },\r\n  methods: {\r\n    async fetchOrder (orderId) {\r\n      try {\r\n        this.$store.commit('setLoading', true)\r\n        const response = await customerAPI.getOrder(orderId)\r\n        if (response.data.success !== true) {\r\n          throw new Error()\r\n        }\r\n        const {\r\n          create_at: createdAt,\r\n          id,\r\n          is_paid: isPaid,\r\n          products,\r\n          total,\r\n          user\r\n        } = response.data.order\r\n\r\n        this.orderIsPaid = isPaid\r\n        if (this.fromCheckout) {\r\n          this.showPayBtn = false\r\n        } else {\r\n          this.showPayBtn = !isPaid\r\n        }\r\n        this.orderList.push({\r\n          id,\r\n          orderDate: this.dateFormat(createdAt),\r\n          isPaid: isPaid ? '已付款' : '尚未付款',\r\n          orderSum: total,\r\n          userName: user ? user.name : '-',\r\n          userEmail: user ? user.email : '-',\r\n          userAddress: user ? user.address : '-',\r\n          userTel: user ? user.tel : '-'\r\n        })\r\n        this.productsList = Object.values(products).map((item) => ({\r\n          isCoupon: item.coupon ? '已套用' : '',\r\n          qty: item.qty,\r\n          originPrice: item.product.price,\r\n          productName: item.product.title,\r\n          productUnit: item.product.unit\r\n        }))\r\n        this.$store.commit('setLoading', false)\r\n        this.$emit('openDialog')\r\n      } catch (error) {\r\n        this.$message.error('無法取得訂單，請稍後再試')\r\n        this.$store.commit('setLoading', false)\r\n      }\r\n    },\r\n    async payOrder (orderId) {\r\n      try {\r\n        this.$store.commit('setLoading', true)\r\n        const response = await customerAPI.payOrder(orderId)\r\n        if (response.data.success !== true) {\r\n          throw new Error()\r\n        }\r\n        this.orderList = this.orderList.map((item) => ({\r\n          ...item,\r\n          isPaid: '已付款'\r\n        }))\r\n        this.orderIsPaid = true\r\n        this.$store.commit('setLoading', false)\r\n        this.$emit('after-pay-order')\r\n      } catch (error) {\r\n        this.$message.error('無法完成付款，請稍後再試')\r\n        this.$store.commit('setLoading', false)\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.fetchOrder(this.currOrderId)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.el-button {\r\n  margin-left: 10px;\r\n}\r\n\r\nh4,\r\n.title {\r\n  letter-spacing: 2px;\r\n  font-weight: 500;\r\n}\r\n\r\n.title {\r\n  line-height: 24px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.order-info {\r\n  margin-top: 30px;\r\n}\r\n\r\n.el-table th > .cell {\r\n  letter-spacing: 3px;\r\n  font-weight: 500;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Order.vue?vue&type=template&id=4363b629&scoped=true&\"\nimport script from \"./Order.vue?vue&type=script&lang=js&\"\nexport * from \"./Order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Order.vue?vue&type=style&index=0&id=4363b629&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4363b629\",\n  null\n  \n)\n\nexport default component.exports","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"checkout-section\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":18,\"md\":16}},[_c('el-steps',{attrs:{\"active\":_vm.active,\"simple\":\"\"}},[_c('el-step',{attrs:{\"title\":\"確認商品\",\"icon\":\"el-icon-shopping-cart-2\"}}),_c('el-step',{attrs:{\"title\":\"訂購資訊\",\"icon\":\"el-icon-edit\"}}),_c('el-step',{attrs:{\"title\":\"付款完成\",\"icon\":\"el-icon-bank-card\"}})],1)],1)],1),_c('el-row',{staticClass:\"main-section\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":18,\"md\":16}},[(_vm.active === 0)?_c('CartInfo',{ref:\"cartInfo\"}):_vm._e(),(_vm.active === 1)?_c('CartForm',{ref:\"cartForm\",on:{\"after-form-submit\":_vm.afterFormSubmit}}):_vm._e(),(_vm.active === 2 && !_vm.isLoading)?_c('el-alert',{attrs:{\"title\":\"訂單尚未完成，請盡快完成付款，待款項確認後，將寄出預約確認信給您，報名才算成功呦！\",\"type\":\"info\",\"show-icon\":\"\",\"closable\":false}}):_vm._e(),(_vm.active === 2)?_c('Order',{ref:\"order\",attrs:{\"currOrderId\":_vm.currOrderId,\"from-checkout\":true},on:{\"after-pay-order\":_vm.afterPayOrder}}):_vm._e(),(_vm.active === 3)?_c('el-alert',{attrs:{\"title\":\"感謝您的預訂，報名確認信將於3日內寄出，期待與您相見：)\",\"type\":\"success\",\"show-icon\":\"\",\"closable\":false,\"effect\":\"dark\"}}):_vm._e()],1)],1),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"xs\":24,\"sm\":18,\"md\":16}},[(_vm.active === 0)?_c('el-button',{directives:[{name:\"scroll-to\",rawName:\"v-scroll-to\",value:('#navbar'),expression:\"'#navbar'\"}],attrs:{\"type\":\"primary\",\"loading\":_vm.isLoading},on:{\"click\":_vm.handleConfirmCart}},[_vm._v(\"確認商品\")]):_vm._e(),(_vm.active === 1)?_c('el-button',{directives:[{name:\"scroll-to\",rawName:\"v-scroll-to\",value:('#navbar'),expression:\"'#navbar'\"}],staticClass:\"order-btn\",attrs:{\"type\":\"primary\",\"loading\":_vm.isLoading},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"送出訂單\")]):_vm._e(),(_vm.active === 2)?_c('el-button',{directives:[{name:\"scroll-to\",rawName:\"v-scroll-to\",value:('#navbar'),expression:\"'#navbar'\"}],attrs:{\"type\":\"primary\",\"loading\":_vm.isLoading},on:{\"click\":_vm.handlePayOrder}},[_vm._v(\"確認付款\")]):_vm._e(),(_vm.active === 3)?_c('div',{staticClass:\"btn-wrapper\"},[_c('router-link',{directives:[{name:\"scroll-to\",rawName:\"v-scroll-to\",value:('#navbar'),expression:\"'#navbar'\"}],attrs:{\"to\":\"/orders\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.next}},[_vm._v(\"查看訂單紀錄\")])],1),_c('router-link',{directives:[{name:\"scroll-to\",rawName:\"v-scroll-to\",value:('#navbar'),expression:\"'#navbar'\"}],attrs:{\"to\":\"/\"}},[_c('el-button',{staticClass:\"home-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.next}},[_vm._v(\"回首頁\")])],1)],1):_vm._e()],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"xs\":24}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"stripe\":\"\",\"data\":_vm.cartList,\"summary-method\":_vm.getSummaries,\"show-summary\":\"\"}},[_c('el-table-column',{attrs:{\"min-width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"block\"},[_c('el-avatar',{attrs:{\"shape\":\"square\",\"size\":50,\"src\":scope.row.image,\"fit\":\"fill\"}})],1)]}}])}),_c('el-table-column',{attrs:{\"min-width\":\"120\",\"prop\":\"title\",\"label\":\"商品名稱\"}}),_c('el-table-column',{attrs:{\"min-width\":\"100\",\"prop\":\"date\",\"label\":\"日期\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"min-width\":\"80\",\"prop\":\"time\",\"label\":\"時段\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"qty\",\"label\":\"數量\",\"min-width\":\"100\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('i',{staticClass:\"el-icon-remove\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.updateCartRecord({ cartItem: scope.row, action: 'REDUCE' })}}}),_c('span',{staticStyle:{\"margin\":\"0 10px\"}},[_vm._v(_vm._s(scope.row.qty))]),_c('i',{staticClass:\"el-icon-circle-plus\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.updateCartRecord({\n                  cartItem: scope.row,\n                  action: 'INCREASE',\n                })}}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"unit\",\"label\":\"單位\",\"min-width\":\"80\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"price\",\"label\":\"單價\",\"min-width\":\"80\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"小計\",\"min-width\":\"80\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.price * scope.row.qty)+\" \")]}}])}),_c('el-table-column',{attrs:{\"width\":\"50\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.updateCartRecord({ cartItem: scope.row, action: 'REMOVE' })}}},[_c('i',{staticClass:\"el-icon-delete\"})])]}}])},[_c('template',{slot:\"header\"})],2)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-row type=\"flex\" justify=\"center\">\r\n      <el-col :xs=\"24\">\r\n        <el-table\r\n          stripe\r\n          :data=\"cartList\"\r\n          :summary-method=\"getSummaries\"\r\n          show-summary\r\n          style=\"width: 100%\"\r\n        >\r\n          <el-table-column min-width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <div class=\"block\">\r\n                <el-avatar\r\n                  shape=\"square\"\r\n                  :size=\"50\"\r\n                  :src=\"scope.row.image\"\r\n                  fit=\"fill\"\r\n                ></el-avatar>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column min-width=\"120\" prop=\"title\" label=\"商品名稱\">\r\n          </el-table-column>\r\n          <el-table-column\r\n            min-width=\"100\"\r\n            prop=\"date\"\r\n            label=\"日期\"\r\n            align=\"center\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            min-width=\"80\"\r\n            prop=\"time\"\r\n            label=\"時段\"\r\n            align=\"center\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"qty\"\r\n            label=\"數量\"\r\n            min-width=\"100\"\r\n            align=\"center\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <i\r\n                class=\"el-icon-remove\"\r\n                style=\"cursor: pointer\"\r\n                @click=\"\r\n                  updateCartRecord({ cartItem: scope.row, action: 'REDUCE' })\r\n                \"\r\n              ></i>\r\n              <span style=\"margin: 0 10px\">{{ scope.row.qty }}</span>\r\n              <i\r\n                class=\"el-icon-circle-plus\"\r\n                style=\"cursor: pointer\"\r\n                @click=\"\r\n                  updateCartRecord({\r\n                    cartItem: scope.row,\r\n                    action: 'INCREASE',\r\n                  })\r\n                \"\r\n              ></i>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"unit\"\r\n            label=\"單位\"\r\n            min-width=\"80\"\r\n            align=\"center\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column\r\n            prop=\"price\"\r\n            label=\"單價\"\r\n            min-width=\"80\"\r\n            align=\"center\"\r\n          >\r\n          </el-table-column>\r\n          <el-table-column label=\"小計\" min-width=\"80\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              {{ scope.row.price * scope.row.qty }}\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column width=\"50\" align=\"center\">\r\n            <template slot=\"header\"></template>\r\n            <template slot-scope=\"scope\">\r\n              <el-button\r\n                type=\"text\"\r\n                size=\"mini\"\r\n                @click=\"\r\n                  updateCartRecord({ cartItem: scope.row, action: 'REMOVE' })\r\n                \"\r\n                ><i class=\"el-icon-delete\"></i\r\n              ></el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport customerAPI from '@/apis/customer.js'\r\nimport { mapState } from 'vuex'\r\nimport cartMixin from '@/utils/cartMixin.js'\r\n\r\nexport default {\r\n  name: 'CartInfo',\r\n  mixins: [cartMixin],\r\n  watch: {\r\n    cartList: {\r\n      handler () {\r\n        if (!this.cartList.length) {\r\n          this.$message.success('購物車空空的，歡迎繼續購物')\r\n          return this.$router.push('/products')\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    if (!this.cartList.length) return this.$router.push('/products')\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      cartList: (state) => state.cartInfo.cartList,\r\n      total: (state) => state.cartInfo.total,\r\n      isLoading: (state) => state.isLoading\r\n    })\r\n  },\r\n  methods: {\r\n    async postLocalCartListToCart () {\r\n      this.$store.commit('setLoading', true)\r\n      await Promise.all(\r\n        Array.from(this.cartList, async (item) => {\r\n          const addData = {\r\n            product_id: item.product_id,\r\n            qty: item.qty\r\n          }\r\n          await this.postToCart({ addData })\r\n        })\r\n      )\r\n      this.updateLocalCartStatus('isPost', true)\r\n      this.$store.commit('setLoading', false)\r\n    },\r\n    async postToCart ({ addData }) {\r\n      try {\r\n        const response = await customerAPI.postToCart({ data: addData })\r\n        if (response.data.success !== true || !response.data.data.id) {\r\n          throw new Error(response.data.message)\r\n        }\r\n      } catch (error) {\r\n        this.$message.error('無法確認購物車數量，請稍後再試')\r\n        this.$store.commit('setLoading', false)\r\n      }\r\n    },\r\n    getSummaries () {\r\n      const sums = ['', '', '', '', '', '', '總價', this.total]\r\n      return sums\r\n    }\r\n  }\r\n}\r\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartInfo.vue?vue&type=template&id=9a908ab2&\"\nimport script from \"./CartInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./CartInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cart-form\"},[_c('el-collapse',{staticClass:\"collapse\"},[_c('el-collapse-item',{attrs:{\"title\":\"購物車明細\"}},[_c('div',{staticClass:\"collapse-table\"},[_c('ol',_vm._l((_vm.cartList),function(item,index){return _c('li',{key:index},[_vm._v(\" \"+_vm._s(index + 1)+\". \"+_vm._s(item.date)+\" \"+_vm._s(item.time)+\" \"+_vm._s(item.title)+\"* \"+_vm._s(item.qty)+\" \"+_vm._s(item.unit)+\" - NT$ \"+_vm._s(item.price * item.qty)+\" 元 \")])}),0),_c('p',[_vm._v(\"總價：NT$ \"+_vm._s(_vm.total)+\" 元\")]),(_vm.final_total)?_c('span',[_vm._v(\"折扣價：NT$ \"+_vm._s(_vm.final_total)+\" 元\")]):_vm._e()])])],1),_c('div',{staticClass:\"coupon\"},[_c('h3',[_vm._v(\" 套用優惠碼\"),(_vm.isCoupon)?_c('el-tag',{attrs:{\"type\":\"success\"}},[_vm._v(\"已套用優惠券\")]):_vm._e()],1),_c('el-input',{attrs:{\"placeholder\":\"請輸入優惠碼\",\"disabled\":_vm.isCoupon},model:{value:(_vm.couponCode),callback:function ($$v) {_vm.couponCode=$$v},expression:\"couponCode\"}},[_c('template',{slot:\"append\"},[_c('el-button',{attrs:{\"loading\":_vm.isLoading,\"disabled\":_vm.isCoupon},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addCoupon($event)}}},[_vm._v(\" 套用優惠碼 \")])],1)],2)],1),_c('div',{staticClass:\"form\"},[_c('h3',[_vm._v(\"填寫訂購人資訊\")]),_c('el-form',{ref:\"userForm\",attrs:{\"label-position\":\"top\",\"rules\":_vm.rules,\"model\":_vm.userForm,\"status-icon\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"Email\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"email\",\"placeholder\":\"請輸入您的 Email\"},model:{value:(_vm.userForm.email),callback:function ($$v) {_vm.$set(_vm.userForm, \"email\", $$v)},expression:\"userForm.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":\"請輸入您的姓名\"},model:{value:(_vm.userForm.name),callback:function ($$v) {_vm.$set(_vm.userForm, \"name\", $$v)},expression:\"userForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手機號碼\",\"prop\":\"tel\"}},[_c('el-input',{attrs:{\"type\":\"tel\",\"placeholder\":\"請輸入您的手機號碼（eg. 0912-345-678）\"},model:{value:(_vm.userForm.tel),callback:function ($$v) {_vm.$set(_vm.userForm, \"tel\", $$v)},expression:\"userForm.tel\"}})],1),_c('el-form-item',{attrs:{\"label\":\"地址\",\"prop\":\"address\"}},[_c('el-input',{attrs:{\"placeholder\":\"請輸入您的地址\",\"type\":\"text\"},model:{value:(_vm.userForm.address),callback:function ($$v) {_vm.$set(_vm.userForm, \"address\", $$v)},expression:\"userForm.address\"}})],1),_c('el-form-item',{attrs:{\"label\":\"留言給我們\",\"prop\":\"message\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"請輸入留言...\",\"maxlength\":\"50\",\"show-word-limit\":\"\"},model:{value:(_vm.userForm.message),callback:function ($$v) {_vm.$set(_vm.userForm, \"message\", $$v)},expression:\"userForm.message\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cart-form\">\r\n    <!-- 訂單 -->\r\n    <el-collapse class=\"collapse\">\r\n      <el-collapse-item title=\"購物車明細\">\r\n        <div class=\"collapse-table\">\r\n          <ol>\r\n            <li v-for=\"(item, index) in cartList\" :key=\"index\">\r\n              {{ index + 1 }}. {{ item.date }} {{ item.time }} {{ item.title }}*\r\n              {{ item.qty }} {{ item.unit }} - NT$\r\n              {{ item.price * item.qty }} 元\r\n            </li>\r\n          </ol>\r\n          <p>總價：NT$ {{ total }} 元</p>\r\n          <span v-if=\"final_total\">折扣價：NT$ {{ final_total }} 元</span>\r\n        </div>\r\n      </el-collapse-item>\r\n    </el-collapse>\r\n    <!-- coupon & form -->\r\n    <div class=\"coupon\">\r\n      <h3>\r\n        套用優惠碼<el-tag v-if=\"isCoupon\" type=\"success\">已套用優惠券</el-tag>\r\n      </h3>\r\n\r\n      <el-input\r\n        placeholder=\"請輸入優惠碼\"\r\n        v-model=\"couponCode\"\r\n        :disabled=\"isCoupon\"\r\n      >\r\n        <template slot=\"append\">\r\n          <el-button\r\n            :loading=\"isLoading\"\r\n            @click.prevent.stop=\"addCoupon\"\r\n            :disabled=\"isCoupon\"\r\n          >\r\n            套用優惠碼\r\n          </el-button>\r\n        </template>\r\n      </el-input>\r\n    </div>\r\n    <div class=\"form\">\r\n      <h3>填寫訂購人資訊</h3>\r\n      <el-form\r\n        ref=\"userForm\"\r\n        label-position=\"top\"\r\n        :rules=\"rules\"\r\n        :model=\"userForm\"\r\n        status-icon\r\n      >\r\n        <el-form-item label=\"Email\" prop=\"email\">\r\n          <el-input\r\n            type=\"email\"\r\n            placeholder=\"請輸入您的 Email\"\r\n            v-model=\"userForm.email\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"姓名\" prop=\"name\">\r\n          <el-input\r\n            type=\"text\"\r\n            placeholder=\"請輸入您的姓名\"\r\n            v-model=\"userForm.name\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"手機號碼\" prop=\"tel\">\r\n          <el-input\r\n            type=\"tel\"\r\n            placeholder=\"請輸入您的手機號碼（eg. 0912-345-678）\"\r\n            v-model=\"userForm.tel\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"地址\" prop=\"address\">\r\n          <el-input\r\n            placeholder=\"請輸入您的地址\"\r\n            type=\"text\"\r\n            v-model=\"userForm.address\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"留言給我們\" prop=\"message\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            :rows=\"2\"\r\n            placeholder=\"請輸入留言...\"\r\n            v-model=\"userForm.message\"\r\n            maxlength=\"50\"\r\n            show-word-limit\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport customerAPI from '@/apis/customer.js'\r\nimport { mapState } from 'vuex'\r\nimport cartMixin from '@/utils/cartMixin.js'\r\n\r\nexport default {\r\n  name: 'CartForm',\r\n  data () {\r\n    return {\r\n      couponCode: '',\r\n      isCoupon: false,\r\n      userForm: {\r\n        name: '',\r\n        email: '',\r\n        tel: '',\r\n        address: '',\r\n        message: ''\r\n      },\r\n      rules: {\r\n        name: [\r\n          {\r\n            required: true,\r\n            message: '姓名為必填',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        email: [\r\n          {\r\n            required: true,\r\n            message: ' Email為必填',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            type: 'email',\r\n            message: 'Email 格式不正確',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        tel: [\r\n          {\r\n            required: true,\r\n            message: '手機號碼為必填',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            pattern: /\\d{4}-\\d{3}-\\d{3}/,\r\n            message: '格式須為10碼數字含符號（eg. 0912-345-678）',\r\n            trigger: 'blur'\r\n          },\r\n          { len: 12, message: '數字最多為10碼', trigger: 'blur' }\r\n        ],\r\n        address: [\r\n          {\r\n            required: true,\r\n            message: '地址為必填',\r\n            trigger: 'blur'\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  mixins: [cartMixin],\r\n  computed: {\r\n    ...mapState({\r\n      cartList: (state) => state.cartInfo.cartList,\r\n      total: (state) => state.cartInfo.total,\r\n      final_total: (state) => state.cartInfo.final_total,\r\n      isLoading: (state) => state.isLoading\r\n    })\r\n  },\r\n  methods: {\r\n    async addCoupon () {\r\n      try {\r\n        this.$store.commit('setLoading', true)\r\n        const addData = {\r\n          code: this.couponCode\r\n        }\r\n        const response = await customerAPI.postCoupon({ data: addData })\r\n        if (response.data.success !== true) {\r\n          throw new Error(response.data.message)\r\n        }\r\n        this.isCoupon = true\r\n        await this.$store.dispatch('fetchCartProducts')\r\n        this.updateLocalCartStatus('final_total', this.final_total)\r\n        this.$message.success('購物明細已更新')\r\n        this.$store.commit('setLoading', false)\r\n      } catch (error) {\r\n        this.$message.error(`${error.message}，請重新輸入`)\r\n        this.couponCode = ''\r\n        this.$store.commit('setLoading', false)\r\n      }\r\n    },\r\n    validateForm (formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.confirmOrder()\r\n        } else {\r\n          this.$message.warning('請再次確認資料內容')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    async confirmOrder () {\r\n      try {\r\n        this.$store.commit('setLoading', true)\r\n        const { name, email, tel, address, message } = this.userForm\r\n        const user = {\r\n          name,\r\n          email,\r\n          tel,\r\n          address\r\n        }\r\n        const response = await customerAPI.confirmOrder({\r\n          data: { user },\r\n          message: message.trim()\r\n        })\r\n\r\n        if (response.data.success !== true) {\r\n          throw new Error(response.data.message)\r\n        }\r\n        // 重置購物車資料\r\n        this.resetCartInfo()\r\n        this.$store.commit('setLoading', false)\r\n        // 通知父層更新\r\n        this.$emit('after-form-submit', response.data.orderId)\r\n      } catch (error) {\r\n        this.$message.warning(`${error.message}，請再次確認`)\r\n        this.$store.commit('setLoading', false)\r\n      }\r\n    },\r\n    resetCartInfo () {\r\n      // 清空state及LocalStorage購物車資料\r\n      this.$store.commit('setCartInfo', {\r\n        cartList: [],\r\n        total: 0,\r\n        final_total: 0\r\n      })\r\n      this.setLocalStorage({ cartList: [], total: 0 })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.cart-form {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n.collapse,\r\n.coupon,\r\n.form {\r\n  width: 100%;\r\n}\r\n\r\nol {\r\n  margin-bottom: 20px;\r\n}\r\n\r\nli {\r\n  list-style: decimal;\r\n}\r\n\r\n.collapse-table span {\r\n  font-size: 18px;\r\n  font-style: italic;\r\n  line-height: 24px;\r\n  color: #f56c6c;\r\n}\r\n\r\nh3 {\r\n  font-size: 16px;\r\n  line-height: 40px;\r\n  color: #44607a;\r\n  font-weight: 500;\r\n  margin-top: 20px;\r\n}\r\n\r\n.el-tag {\r\n  margin: 10px;\r\n  font-size: 14px;\r\n  letter-spacing: 1px;\r\n  font-weight: 400;\r\n}\r\n\r\n.el-form--label-top >>> .el-form-item__label {\r\n  padding: 10px 0 10px;\r\n}\r\n\r\n>>> .el-form-item__label {\r\n  line-height: 16px;\r\n}\r\n\r\n.el-input,\r\n.el-textarea {\r\n  font-size: 16px;\r\n}\r\n\r\n/* md */\r\n@media only screen and (min-width: 992px) {\r\n  .collapse,\r\n  .coupon,\r\n  .form {\r\n    width: 100%;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CartForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CartForm.vue?vue&type=template&id=2832ba41&scoped=true&\"\nimport script from \"./CartForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CartForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CartForm.vue?vue&type=style&index=0&id=2832ba41&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2832ba41\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"checkout-section\">\r\n    <!-- Stepper -->\r\n    <el-row type=\"flex\" justify=\"center\">\r\n      <el-col :xs=\"24\" :sm='18'  :md='16'>\r\n        <el-steps :active=\"active\" simple>\r\n          <el-step title=\"確認商品\" icon=\"el-icon-shopping-cart-2\"></el-step>\r\n          <el-step title=\"訂購資訊\" icon=\"el-icon-edit\"></el-step>\r\n          <el-step title=\"付款完成\" icon=\"el-icon-bank-card\"></el-step>\r\n        </el-steps>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- panel: 購物車 -> form -> 完成訂單 -->\r\n    <el-row type=\"flex\" justify=\"center\" class=\"main-section\">\r\n      <el-col :xs=\"24\" :sm='18'  :md='16'>\r\n        <CartInfo ref=\"cartInfo\" v-if=\"active === 0\" />\r\n        <CartForm\r\n          v-if=\"active === 1\"\r\n          ref=\"cartForm\"\r\n          @after-form-submit=\"afterFormSubmit\"\r\n        />\r\n        <el-alert\r\n          v-if=\"active === 2 && !isLoading\"\r\n          title=\"訂單尚未完成，請盡快完成付款，待款項確認後，將寄出預約確認信給您，報名才算成功呦！\"\r\n          type=\"info\"\r\n          show-icon\r\n          :closable=\"false\"\r\n        >\r\n        </el-alert>\r\n        <Order\r\n          v-if=\"active === 2\"\r\n          ref=\"order\"\r\n          :currOrderId=\"currOrderId\"\r\n          :from-checkout=\"true\"\r\n          @after-pay-order=\"afterPayOrder\"\r\n        />\r\n        <el-alert\r\n          v-if=\"active === 3\"\r\n          title=\"感謝您的預訂，報名確認信將於3日內寄出，期待與您相見：)\"\r\n          type=\"success\"\r\n          show-icon\r\n          :closable=\"false\"\r\n          effect=\"dark\"\r\n        >\r\n        </el-alert>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- Step control -->\r\n    <el-row type=\"flex\" justify=\"center\">\r\n      <el-col :xs=\"24\" :sm='18' :md='16'>\r\n        <el-button\r\n          v-if=\"active === 0\"\r\n          @click=\"handleConfirmCart\"\r\n          type=\"primary\"\r\n          :loading=\"isLoading\"\r\n          v-scroll-to=\"'#navbar'\"\r\n          >確認商品</el-button\r\n        >\r\n        <el-button\r\n          v-if=\"active === 1\"\r\n          type=\"primary\"\r\n          @click=\"handleSubmit\"\r\n          :loading=\"isLoading\"\r\n          v-scroll-to=\"'#navbar'\"\r\n          class=\"order-btn\"\r\n          >送出訂單</el-button\r\n        >\r\n        <el-button\r\n          v-if=\"active === 2\"\r\n          @click=\"handlePayOrder\"\r\n          type=\"primary\"\r\n          :loading=\"isLoading\"\r\n          v-scroll-to=\"'#navbar'\"\r\n          >確認付款</el-button\r\n        >\r\n\r\n        <div v-if=\"active === 3\" class=\"btn-wrapper\">\r\n            <router-link to=\"/orders\" v-scroll-to=\"'#navbar'\">\r\n              <el-button @click=\"next\" type=\"primary\" plain\r\n                >查看訂單紀錄</el-button\r\n              >\r\n            </router-link>\r\n            <router-link to=\"/\" v-scroll-to=\"'#navbar'\">\r\n              <el-button @click=\"next\" type=\"primary\" class=\"home-btn\">回首頁</el-button>\r\n            </router-link>\r\n        </div>\r\n        </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport Order from '../components/Order.vue'\r\nimport CartInfo from '../components/cart/CartInfo.vue'\r\nimport CartForm from '../components/cart/CartForm.vue'\r\nimport cartMixin from '../utils/cartMixin.js'\r\n\r\nexport default {\r\n  name: 'CartList',\r\n  components: {\r\n    Order,\r\n    CartInfo,\r\n    CartForm\r\n  },\r\n  metaInfo: {\r\n    title: '購物車結帳'\r\n  },\r\n  mixins: [cartMixin],\r\n  data () {\r\n    return {\r\n      active: 0,\r\n      currOrderId: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['isLoading'])\r\n  },\r\n  created () {\r\n    const { isPost = null } = this.getLocalStorage()\r\n    // 如果已經Post過，直接進入Step 2\r\n    if (isPost) this.next()\r\n  },\r\n  methods: {\r\n    next () {\r\n      this.active++\r\n\r\n      if (this.active > 3) {\r\n        this.active = 0\r\n      }\r\n    },\r\n    async handleConfirmCart () {\r\n      try {\r\n        await this.$confirm('請再次確認商品，下一步後將無法更改', 'Warning', {\r\n          confirmButtonText: '確認',\r\n          cancelButtonText: '取消',\r\n          type: 'warning',\r\n          center: true\r\n        })\r\n        await this.$refs.cartInfo.postLocalCartListToCart()\r\n        this.next()\r\n      } catch (error) {\r\n        this.$message.error('無法確認商品，請稍後再試')\r\n      }\r\n    },\r\n    handleSubmit () {\r\n      this.$refs.cartForm.validateForm('userForm')\r\n    },\r\n    afterFormSubmit (orderId) {\r\n      this.currOrderId = orderId\r\n      this.next()\r\n    },\r\n    handlePayOrder () {\r\n      this.$refs.order.payOrder(this.currOrderId)\r\n    },\r\n    afterPayOrder () {\r\n      this.next()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.checkout-section {\r\n  padding: 50px 30px 30px;\r\n}\r\n\r\n.main-section {\r\n  margin-top: 30px;\r\n}\r\n\r\n.el-button {\r\n  width: 100%;\r\n  margin-top: 50px;\r\n}\r\n\r\n.el-button.order-btn,\r\n.el-button.home-btn{\r\n  margin-top: 20px;\r\n}\r\n\r\n.el-alert {\r\n  padding: 16px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-steps--simple {\r\n  padding: 13px 12%;\r\n}\r\n\r\n.el-step.is-simple >>> .el-step__title {\r\n  display: none;\r\n}\r\n\r\n/* sm */\r\n@media only screen and (min-width: 768px) {\r\n  .checkout-section {\r\n    padding: 50px 80px 30px;\r\n  }\r\n\r\n  .el-button.home-btn{\r\n    margin-top: 50px;\r\n    margin-left: 10px;\r\n  }\r\n  .btn-wrapper{\r\n    display: flex;\r\n  }\r\n\r\n  .el-steps--simple {\r\n    padding: 13px 8%;\r\n  }\r\n  .el-step.is-simple >>> .el-step__title {\r\n    display: block;\r\n  }\r\n}\r\n\r\n/* md */\r\n@media only screen and (min-width: 992px) {\r\n  .checkout-section {\r\n    padding: 50px 120px 30px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOut.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CheckOut.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CheckOut.vue?vue&type=template&id=7e87db69&scoped=true&\"\nimport script from \"./CheckOut.vue?vue&type=script&lang=js&\"\nexport * from \"./CheckOut.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CheckOut.vue?vue&type=style&index=0&id=7e87db69&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e87db69\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}